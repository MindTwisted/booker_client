(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8be808e"],{"214f":function(t,e,a){"use strict";var i=a("32e9"),n=a("2aba"),s=a("79e5"),o=a("be13"),r=a("2b4c");t.exports=function(t,e,a){var c=r(t),l=a(o,c,""[t]),u=l[0],f=l[1];s(function(){var e={};return e[c]=function(){return 7},7!=""[t](e)})&&(n(String.prototype,t,u),i(RegExp.prototype,c,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},"28a5":function(t,e,a){a("214f")("split",2,function(t,e,i){"use strict";var n=a("aae3"),s=i,o=[].push,r="split",c="length",l="lastIndex";if("c"=="abbc"[r](/(b)*/)[1]||4!="test"[r](/(?:)/,-1)[c]||2!="ab"[r](/(?:ab)*/)[c]||4!="."[r](/(.?)(.?)/)[c]||"."[r](/()()/)[c]>1||""[r](/.?/)[c]){var u=void 0===/()??/.exec("")[1];i=function(t,e){var a=String(this);if(void 0===t&&0===e)return[];if(!n(t))return s.call(a,t,e);var i,r,f,d,m,v=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,g=void 0===e?4294967295:e>>>0,S=new RegExp(t.source,p+"g");u||(i=new RegExp("^"+S.source+"$(?!\\s)",p));while(r=S.exec(a)){if(f=r.index+r[0][c],f>h&&(v.push(a.slice(h,r.index)),!u&&r[c]>1&&r[0].replace(i,function(){for(m=1;m<arguments[c]-2;m++)void 0===arguments[m]&&(r[m]=void 0)}),r[c]>1&&r.index<a[c]&&o.apply(v,r.slice(1)),d=r[0][c],h=f,v[c]>=g))break;S[l]===r.index&&S[l]++}return h===a[c]?!d&&S.test("")||v.push(""):v.push(a.slice(h)),v[c]>g?v.slice(0,g):v}}else"0"[r](void 0,0)[c]&&(i=function(t,e){return void 0===t&&0===e?[]:s.call(this,t,e)});return[function(a,n){var s=t(this),o=void 0==a?void 0:a[e];return void 0!==o?o.call(a,s,n):i.call(String(s),a,n)},i]})},"50f4":function(t,e,a){},5396:function(t,e,a){"use strict";var i=a("50f4"),n=a.n(i);n.a},aae3:function(t,e,a){var i=a("d3f4"),n=a("2d95"),s=a("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},ac6a:function(t,e,a){for(var i=a("cadf"),n=a("0d58"),s=a("2aba"),o=a("7726"),r=a("32e9"),c=a("84f2"),l=a("2b4c"),u=l("iterator"),f=l("toStringTag"),d=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=n(m),p=0;p<v.length;p++){var h,g=v[p],S=m[g],L=o[g],b=L&&L.prototype;if(b&&(b[u]||r(b,u,d),b[f]||r(b,f,g),c[g]=d,S))for(h in i)b[h]||s(b,h,i[h],!0)}},acd8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stats"},[t._m(0),a("div",{staticClass:"box stats__box"},[a("h2",{staticClass:"is-size-5"},[t._v("\n            Events activity\n            "),a("div",{staticClass:"select is-small calendar__rooms"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedRoom,expression:"selectedRoom"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedRoom=e.target.multiple?a:a[0]}}},t._l(t.rooms,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))])]),a("column-chart",{attrs:{data:t.getColumnChartData()}})],1),a("div",{staticClass:"box stats__box"},[a("h2",{staticClass:"is-size-5"},[t._v("\n            Rooms usage\n        ")]),a("pie-chart",{attrs:{data:t.getPieChartData()}})],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard__title"},[a("h1",{staticClass:"title"},[t._v("Stats")])])}],s=(a("7f7f"),a("28a5"),a("c93e")),o=(a("ac6a"),a("2f62")),r=a("365c"),c={name:"stats",data:function(){return{selectedRoom:""}},beforeRouteEnter:function(t,e,a){Promise.all([r["a"].fetchEvents(),r["a"].fetchRooms()]).then(function(t){a(function(e){e.setEvents(t[0].data.message.data),e.setRooms(t[1].data.message.data)})}).catch(function(t){a(function(e){e.$notify({group:"messages",title:"Error",type:"error",text:t.data.message.text})})})},watch:{rooms:function(){this.rooms.length>0&&(this.selectedRoom=this.rooms[0].id)}},computed:Object(s["a"])({},o["a"].mapState(["events","rooms"])),methods:Object(s["a"])({},o["a"].mapMutations(["setEvents","setRooms"]),{getColumnChartData:function(){var t=this,e={};return this.events.filter(function(e){return+e.room.id===+t.selectedRoom}).map(function(t){var a=new Date(1e3*t.start_time).toDateString().split(" ").splice(1).join(" ");e[a]?e[a]++:e[a]=1}),e},getPieChartData:function(){var t={};return this.events.map(function(e){var a=e.room.name;t[a]?t[a]++:t[a]=1}),t}})},l=c,u=(a("5396"),a("2877")),f=Object(u["a"])(l,i,n,!1,null,"683d1b65",null);f.options.__file="Stats.vue";e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-e8be808e.57d136d9.js.map